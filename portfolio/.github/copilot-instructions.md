# Copilot Instructions
- **Project**: CRA React 16.10 single-page portfolio; entry `src/index.js` wraps with Styletron/BaseUI plus styled-components theme; routing in `src/containers/Main.js` for `/`, `/home`, `/experience`, `/education`, `/opensource`, `/contact`, `/projects`; `settings.isSplash` toggles `Splash`.
- **Content source**: All display text/images live in `src/portfolio.js` (greeting, social links, skills, education, experience, project/publication headers, etc.). Components expect the existing object keys and array shapes; keep emoji bullets as strings.
- **Open source stats**: `Opensource` page uses static JSON from `src/shared/opensource/{projects,issues,pull_requests,organizations}.json`; refresh by running `node git_data_fetcher.mjs` with `GITHUB_TOKEN` + `GITHUB_USERNAME` env vars (GitHub GraphQL) then commit the regenerated JSON. Counts (`closed`, `merged`, `totalCount`) are computed in the script and consumed by cards/charts.
- **Projects page**: `src/pages/projects/Projects.js` renders cards from `src/shared/opensource/projects.json` plus `publications` data in `portfolio.js`; `GithubRepoCard`/`PublicationCard` expect `languages` entries containing `iconifyClass` values.
- **Experience page**: driven by the `experience` object in `portfolio.js` (title/subtitle/description and `sections[*].experiences[*]`); the legacy `src/shared/experience_data.json` is not wired into the UI.
- **Contact + footer**: footer credit pulls `greeting.title`; contact/splash details come from `portfolio.js`. `src/shared/contact_data.json` is currently unused.
- **Styling/themes**: Themes live in `src/theme.js`; pick one via `chosenTheme`. Global palette is provided via styled-components `ThemeProvider` and `GlobalStyles` (`src/global.js`); BaseUI/Styletron wraps the app for typography/layout. `ToggleSwitch` exists but is commented out in `Footer`.
- **Assets**: Image keys in `portfolio.js` must match files under `src/assets/images` (or `public/icons` for PWA assets). Font Awesome is preloaded via `src/assets/font-awesome/css/all.css`.
- **Build/test**: `npm start`, `npm run build`, and `npm test` use `react-scripts --openssl-legacy-provider` to stay compatible with Node 18+. Husky runs `lint-staged` (prettier on js/css/md and prettier-package-json on json) on commit.
- **Deploy**: `npm run deploy` builds then pushes `build/` to the `gh-pages` branch (`homepage` is set in `package.json`). Docker image uses Node 20 (`Dockerfile`) and exposes 3001 running `npm start`.
- **Service worker**: `serviceWorker.unregister()` in `src/index.js`; flip to `register()` only if you opt into PWA caching and handle offline caveats.
- **Routing gotcha**: `BrowserRouter` basename is `/`; `Splash` route mounts only when `settings.isSplash` is true; the wildcard route falls back to `pages/errors/error404/Error`.
- **UI patterns**: Each page composes `Header`, a content container, `Footer`, `TopButton`; new sections should accept `theme` props and usually wrap blocks in `Fade` (react-reveal) for consistent reveal animations.
